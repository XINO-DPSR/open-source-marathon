{% extends "src/base.html" %}

{% load static %}

{% block head %}
    <link rel="stylesheet" href="{% static "src/css/index.css" %}">
{% endblock %}

{% block body %}
    <div class="container">
        <main class="row">
            <div class="col align-self-center">
                <div class="row justify-content-center">
                    <img id="logo" src="{% static "src/img/logo.png" %}" alt="Quarry Logo" />
                </div>
                <div class="py-3"></div>
                <div class="row justify-content-center">
                    <div class="col-lg-7">
                        <form class="needs-validation" action="{% url "search" %}" novalidate>
                            <div class="row no-gutters">
                                <div class="col">
                                    <input autofocus type="search" class="form-control form-control-lg" id="search" name="q" placeholder="Search" required>
                                </div>
                                <div class="px-2"></div>
                                <div class="col-auto">
                                    <button type="submit" class="btn btn-primary btn-lg"><i class="fas fa-search"></i></button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        window.addEventListener('load', () => {
            [...document.getElementsByClassName('needs-validation')].forEach(form => {
                form.addEventListener('submit', e => {
                    if (!form.checkValidity()) {
                        e.preventDefault();
                        e.stopPropagation();
                    }
                });
            });
        });
    </script>
{% endblock %}
